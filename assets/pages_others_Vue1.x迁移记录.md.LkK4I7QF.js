import{_ as n}from"./chunks/theme.Cda8gEDC.js";import{_ as l,c as o,G as e,am as t,o as p}from"./chunks/framework.m8Ul0eMb.js";const E=JSON.parse('{"title":"Vue1.x迁移记录","description":"记录从Vue1.x迁移到Vue2.x的过程","frontmatter":{"layout":"doc","outline":"deep","title":"Vue1.x迁移记录","description":"记录从Vue1.x迁移到Vue2.x的过程"},"headers":[],"relativePath":"pages/others/Vue1.x迁移记录.md","filePath":"pages/others/Vue1.x迁移记录.md"}'),r={name:"pages/others/Vue1.x迁移记录.md"};function c(F,s,i,y,u,d){const a=n;return p(),o("div",null,[e(a,{words:["Vue1.x迁移记录"]}),s[0]||(s[0]=t(`<h2 id="从vue1-x迁移到2-x" tabindex="-1">从Vue1.x迁移到2.x <a class="header-anchor" href="#从vue1-x迁移到2-x" aria-label="Permalink to &quot;从Vue1.x迁移到2.x&quot;">​</a></h2><p>记录项目迁移到2.x的过程以及注意事项。</p><h2 id="升级脚手架" tabindex="-1">升级脚手架 <a class="header-anchor" href="#升级脚手架" aria-label="Permalink to &quot;升级脚手架&quot;">​</a></h2><p>升级package文件：</p><div class="custom-code-block"><div class="terminal-header"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki monokai vp-code" tabindex="0"><code><span class="line"><span style="color:#E6DB74;">&quot;vue&quot;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&quot;^1.0.21&quot;</span><span style="color:#F8F8F2;"> -&gt; </span><span style="color:#E6DB74;">&quot;vue&quot;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&quot;^2.0.0&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#E6DB74;">&quot;vue-router&quot;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&quot;^0.7.13&quot;</span><span style="color:#F8F8F2;"> -&gt; </span><span style="color:#E6DB74;">&quot;vue-router&quot;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&quot;^2.0.0&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#E6DB74;">&quot;vue-loader&quot;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&quot;^8.3.0&quot;</span><span style="color:#F8F8F2;"> -&gt; </span><span style="color:#E6DB74;">&quot;vue-loader&quot;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&quot;^9.0.0&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#E6DB74;">&quot;vue-lazyload&quot;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&quot;^1.0.0-rc10&quot;</span><span style="color:#F8F8F2;"> -&gt; </span><span style="color:#E6DB74;">&quot;vue-lazyload&quot;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&quot;^1.0.0-rc12&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#E6DB74;">&quot;vue-hot-reload-api&quot;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&quot;^1.2.0&quot;</span><span style="color:#F8F8F2;"> -&gt; </span><span style="color:#E6DB74;">&quot;vue-hot-reload-api&quot;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&quot;^2.0.11&quot;</span></span></code></pre></div></div><h2 id="运行项目修正语法错误" tabindex="-1">运行项目修正语法错误 <a class="header-anchor" href="#运行项目修正语法错误" aria-label="Permalink to &quot;运行项目修正语法错误&quot;">​</a></h2><p>运行项目会发现有vue-loader语法错误，项目无法运行，错误主要分为两类：</p><ul><li>过滤器语法错误，以及Vue移除了自带的过滤器</li><li>Vue2.x的组件的HTML代码需要包裹在一个div里面</li></ul><h2 id="修改vue-router" tabindex="-1">修改vue-router <a class="header-anchor" href="#修改vue-router" aria-label="Permalink to &quot;修改vue-router&quot;">​</a></h2><p>vue-router升级至2.x版本较原来的0.7.x有较大改变。</p><h3 id="修改入口文件" tabindex="-1">修改入口文件 <a class="header-anchor" href="#修改入口文件" aria-label="Permalink to &quot;修改入口文件&quot;">​</a></h3><h4 id="修改前" tabindex="-1">修改前 <a class="header-anchor" href="#修改前" aria-label="Permalink to &quot;修改前&quot;">​</a></h4><div class="custom-code-block"><div class="terminal-header"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai vp-code" tabindex="0"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">var</span><span style="color:#F8F8F2;"> router </span><span style="color:#F92672;">=</span><span style="color:#F92672;"> new</span><span style="color:#A6E22E;"> VueRouter</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  root: </span><span style="color:#E6DB74;">&#39;/wx&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  hashbang: </span><span style="color:#AE81FF;">false</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  history: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">//html5模式</span></span>
<span class="line"><span style="color:#F8F8F2;">  saveScrollPosition: </span><span style="color:#AE81FF;">true</span><span style="color:#88846F;"> //记住页面的滚动位置 html5模式适用</span></span>
<span class="line"><span style="color:#F8F8F2;">});</span></span>
<span class="line"><span style="color:#88846F;">// 路由部分</span></span>
<span class="line"><span style="color:#F8F8F2;">router.</span><span style="color:#A6E22E;">map</span><span style="color:#F8F8F2;">(RouteConf.route);</span></span>
<span class="line"><span style="color:#88846F;">// 启动整个应用</span></span>
<span class="line"><span style="color:#F8F8F2;">router.</span><span style="color:#A6E22E;">start</span><span style="color:#F8F8F2;">(App, </span><span style="color:#E6DB74;">&#39;#app&#39;</span><span style="color:#F8F8F2;">);</span></span></code></pre></div></div><h4 id="修改后" tabindex="-1">修改后 <a class="header-anchor" href="#修改后" aria-label="Permalink to &quot;修改后&quot;">​</a></h4><div class="custom-code-block"><div class="terminal-header"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai vp-code" tabindex="0"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">var</span><span style="color:#F8F8F2;"> router </span><span style="color:#F92672;">=</span><span style="color:#F92672;"> new</span><span style="color:#A6E22E;"> VueRouter</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  base: </span><span style="color:#E6DB74;">&#39;/wx&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  mode: </span><span style="color:#E6DB74;">&#39;history&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">//html5模式</span></span>
<span class="line"><span style="color:#F8F8F2;">  routes: [RouteConf.route]</span></span>
<span class="line"><span style="color:#F8F8F2;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">new</span><span style="color:#A6E22E;"> Vue</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  router,</span></span>
<span class="line"><span style="color:#F8F8F2;">  el: </span><span style="color:#E6DB74;">&#39;#app&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#A6E22E;">  render</span><span style="color:#F8F8F2;">: </span><span style="color:#FD971F;font-style:italic;">h</span><span style="color:#66D9EF;font-style:italic;"> =&gt;</span><span style="color:#A6E22E;"> h</span><span style="color:#F8F8F2;">(App)</span></span>
<span class="line"><span style="color:#F8F8F2;">});</span></span></code></pre></div></div><h3 id="修改路由文件" tabindex="-1">修改路由文件 <a class="header-anchor" href="#修改路由文件" aria-label="Permalink to &quot;修改路由文件&quot;">​</a></h3><h4 id="修改前-1" tabindex="-1">修改前 <a class="header-anchor" href="#修改前-1" aria-label="Permalink to &quot;修改前&quot;">​</a></h4><div class="custom-code-block"><div class="terminal-header"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai vp-code" tabindex="0"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">let</span><span style="color:#F8F8F2;"> router </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#88846F;">  // 首页</span></span>
<span class="line"><span style="color:#E6DB74;">  &quot;/index&quot;</span><span style="color:#F8F8F2;">: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    name: </span><span style="color:#E6DB74;">&#39;index&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#A6E22E;">    component</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">function</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">resolve</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#A6E22E;">      require</span><span style="color:#F8F8F2;">([</span><span style="color:#E6DB74;">&#39;../../pages/index/index.page&#39;</span><span style="color:#F8F8F2;">], resolve);</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">export</span><span style="color:#F92672;"> default</span><span style="color:#F8F8F2;"> router;</span></span></code></pre></div></div><h4 id="修改后-1" tabindex="-1">修改后 <a class="header-anchor" href="#修改后-1" aria-label="Permalink to &quot;修改后&quot;">​</a></h4><div class="custom-code-block"><div class="terminal-header"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai vp-code" tabindex="0"><code><span class="line"><span style="color:#E6DB74;">&#39;use strict&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">let</span><span style="color:#F8F8F2;"> router </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#88846F;">  // 首页</span></span>
<span class="line"><span style="color:#F8F8F2;">  path: </span><span style="color:#E6DB74;">&quot;/index&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  name: </span><span style="color:#E6DB74;">&#39;index&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#A6E22E;">  component</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">function</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">resolve</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#A6E22E;">    require</span><span style="color:#F8F8F2;">([</span><span style="color:#E6DB74;">&#39;../../pages/index/index.page&#39;</span><span style="color:#F8F8F2;">], resolve);</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">export</span><span style="color:#F92672;"> default</span><span style="color:#F8F8F2;"> router;</span></span></code></pre></div></div><h2 id="运行项目" tabindex="-1">运行项目 <a class="header-anchor" href="#运行项目" aria-label="Permalink to &quot;运行项目&quot;">​</a></h2>`,21))])}const x=l(r,[["render",c]]);export{E as __pageData,x as default};
